(function(j,i){var o=["ng","oc.lazyLoad"],e={},f=[],k=[],b=[],d=[],h=j.noop,c={},a=[];var g=j.module("oc.lazyLoad",["ng"]);g.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(y,E,s,F,D,z){var G={},q={$controllerProvider:y,$compileProvider:s,$filterProvider:F,$provide:E,$injector:D,$animateProvider:z},A=false,r=false,p=[],I={};p.push=function(J){if(this.indexOf(J)===-1){Array.prototype.push.apply(this,arguments)}};this.config=function(J){if(j.isDefined(J.modules)){if(j.isArray(J.modules)){j.forEach(J.modules,function(K){G[K.name]=K})}else{G[J.modules.name]=J.modules}}if(j.isDefined(J.debug)){A=J.debug}if(j.isDefined(J.events)){r=J.events}};this._init=function w(L){if(k.length===0){var M=[L],O=["ng:app","ng-app","x-ng-app","data-ng-app"],K=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,J=function J(P){return P&&M.push(P)};j.forEach(O,function(P){O[P]=true;J(document.getElementById(P));P=P.replace(":","\\:");if(typeof L[0]!=="undefined"&&L[0].querySelectorAll){j.forEach(L[0].querySelectorAll("."+P),J);j.forEach(L[0].querySelectorAll("."+P+"\\:"),J);j.forEach(L[0].querySelectorAll("["+P+"]"),J)}});j.forEach(M,function(R){if(k.length===0){var Q=" "+L.className+" ";var P=K.exec(Q);if(P){k.push((P[2]||"").replace(/\s+/g,","))}else{j.forEach(R.attributes,function(S){if(k.length===0&&O[S.name]){k.push(S.value)}})}}})}if(k.length===0&&!((i.jasmine||i.mocha)&&j.isDefined(j.mock))){console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.")}var N=function N(Q){if(o.indexOf(Q)===-1){o.push(Q);var P=j.module(Q);t(null,P._invokeQueue,Q);t(null,P._configBlocks,Q);j.forEach(P.requires,N)}};j.forEach(k,function(P){N(P)});k=[];d.pop()};var B=function B(L){try{return JSON.stringify(L)}catch(K){var J=[];return JSON.stringify(L,function(M,N){if(j.isObject(N)&&N!==null){if(J.indexOf(N)!==-1){return}J.push(N)}return N})}};var C=function C(N){var M=0,K,L,J;if(N.length==0){return M}for(K=0,J=N.length;K<J;K++){L=N.charCodeAt(K);M=(M<<5)-M+L;M|=0}return M};function v(O,R,L){if(R){var M,J,Q,P=[];for(M=R.length-1;M>=0;M--){J=R[M];if(!j.isString(J)){J=H(J)}if(!J||a.indexOf(J)!==-1||G[J]&&b.indexOf(J)===-1){continue}var K=o.indexOf(J)===-1;Q=n(J);if(K){o.push(J);v(O,Q.requires,L)}if(Q._runBlocks.length>0){c[J]=[];while(Q._runBlocks.length>0){c[J].push(Q._runBlocks.shift())}}if(j.isDefined(c[J])&&(K||L.rerun)){P=P.concat(c[J])}t(O,Q._invokeQueue,J,L.reconfig);t(O,Q._configBlocks,J,L.reconfig);h(K?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",J);R.pop();a.push(J)}var N=O.getInstanceInjector();j.forEach(P,function(S){N.invoke(S)})}}function x(M,L){var K=M[2][0],O=M[1],N=false;if(j.isUndefined(e[L])){e[L]={}}if(j.isUndefined(e[L][O])){e[L][O]={}}var P=function P(S,R){if(!e[L][O].hasOwnProperty(S)){e[L][O][S]=[]}if(Q(R,e[L][O][S])){N=true;e[L][O][S].push(R);h("ocLazyLoad.componentLoaded",[L,O,S])}};function Q(S,T){var R=true,U;if(T.length){U=J(S);j.forEach(T,function(V){R=R&&J(V)!==U})}return R}function J(R){if(j.isArray(R)){return C(R.toString())}else{if(j.isObject(R)){return C(B(R))}else{if(j.isDefined(R)&&R!==null){return C(R.toString())}else{return R}}}}if(j.isString(K)){P(K,M[2][1])}else{if(j.isObject(K)){j.forEach(K,function(R,S){if(j.isString(R)){P(R,K[1])}else{P(S,R)}})}else{return false}}return N}function t(M,Q,J,O){if(!Q){return}var N,R,S,T;for(N=0,R=Q.length;N<R;N++){S=Q[N];if(j.isArray(S)){if(M!==null){if(M.hasOwnProperty(S[0])){T=M[S[0]]}else{throw new Error("unsupported provider "+S[0])}}var P=x(S,J);if(S[1]!=="invoke"){if(P&&j.isDefined(T)){T[S[1]].apply(T,S[2])}}else{var K=function K(V){var W=f.indexOf(J+"-"+V);if(W===-1||O){if(W===-1){f.push(J+"-"+V)}if(j.isDefined(T)){T[S[1]].apply(T,S[2])}}};if(j.isFunction(S[2][0])){K(S[2][0])}else{if(j.isArray(S[2][0])){for(var L=0,U=S[2][0].length;L<U;L++){if(j.isFunction(S[2][0][L])){K(S[2][0][L])}}}}}}}}function H(K){var J=null;if(j.isString(K)){J=K}else{if(j.isObject(K)&&K.hasOwnProperty("name")&&j.isString(K.name)){J=K.name}}return J}function u(J){if(!j.isString(J)){return false}try{return n(J)}catch(K){if(/No module/.test(K)||K.message.indexOf("$injector:nomod")>-1){return false}}}this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(X,P,R,aa,Z){var W,J=aa("ocLazyLoad");if(!A){X={};X.error=j.noop;X.warn=j.noop;X.info=j.noop}q.getInstanceInjector=function(){return W?W:W=P.data("$injector")||j.injector()};T=function T(ac,ad){if(r){R.$broadcast(ac,ad)}if(A){X.info(ac,ad)}};function N(ad){var ac=Z.defer();X.error(ad.message);ac.reject(ad);return ac.promise}return{_broadcast:T,_$log:X,_getFilesCache:function Q(){return J},toggleWatch:function Y(ac){if(ac){d.push(true)}else{d.pop()}},getModuleConfig:function S(ac){if(!j.isString(ac)){throw new Error("You need to give the name of the module to get")}if(!G[ac]){return null}return j.copy(G[ac])},setModuleConfig:function M(ac){if(!j.isObject(ac)){throw new Error("You need to give the module config object to set")}G[ac.name]=ac;return ac},getModules:function U(){return o},isLoaded:function O(af){var ae=function ae(ah){var ag=o.indexOf(ah)>-1;if(!ag){ag=!!u(ah)}return ag};if(j.isString(af)){af=[af]}if(j.isArray(af)){var ad,ac;for(ad=0,ac=af.length;ad<ac;ad++){if(!ae(af[ad])){return false}}return true}else{throw new Error("You need to define the module(s) name(s)")}},_getModuleName:H,_getModule:function ab(ac){try{return n(ac)}catch(ad){if(/No module/.test(ad)||ad.message.indexOf("$injector:nomod")>-1){ad.message='The module "'+B(ac)+'" that you are trying to load does not exist. '+ad.message}throw ad}},moduleExists:u,_loadDependencies:function L(ad,ai){var ae,af,ah,aj=[],ac=this;ad=ac._getModuleName(ad);if(ad===null){return Z.when()}else{try{ae=ac._getModule(ad)}catch(ag){return N(ag)}af=ac.getRequires(ae)}j.forEach(af,function(ak){if(j.isString(ak)){var al=ac.getModuleConfig(ak);if(al===null){p.push(ak);return}ak=al;al.name=undefined}if(ac.moduleExists(ak.name)){ah=ak.files.filter(function(an){return ac.getModuleConfig(ak.name).files.indexOf(an)<0});if(ah.length!==0){ac._$log.warn('Module "',ad,'" attempted to redefine configuration for dependency. "',ak.name,'"\n Additional Files Loaded:',ah)}if(j.isDefined(ac.filesLoader)){aj.push(ac.filesLoader(ak,ai).then(function(){return ac._loadDependencies(ak)}))}else{return N(new Error("Error: New dependencies need to be loaded from external files ("+ak.files+"), but no loader has been defined."))}return}else{if(j.isArray(ak)){var am=[];j.forEach(ak,function(ao){var an=ac.getModuleConfig(ao);if(an===null){am.push(ao)}else{if(an.files){am=am.concat(an.files)}}});if(am.length>0){ak={files:am}}}else{if(j.isObject(ak)){if(ak.hasOwnProperty("name")&&ak.name){ac.setModuleConfig(ak);p.push(ak.name)}}}}if(j.isDefined(ak.files)&&ak.files.length!==0){if(j.isDefined(ac.filesLoader)){aj.push(ac.filesLoader(ak,ai).then(function(){return ac._loadDependencies(ak)}))}else{return N(new Error('Error: the module "'+ak.name+'" is defined in external files ('+ak.files+"), but no loader has been defined."))}}});return Z.all(aj)},inject:function V(ae){var ah=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var aj=arguments.length<=2||arguments[2]===undefined?false:arguments[2];var ad=this,ac=Z.defer();if(j.isDefined(ae)&&ae!==null){if(j.isArray(ae)){var ai=[];j.forEach(ae,function(ak){ai.push(ad.inject(ae,ah,aj))});return Z.all(ai)}else{ad._addToLoadList(ad._getModuleName(ae),true,aj)}}if(k.length>0){var af=k.slice();var ag=function ag(al){p.push(al);I[al]=ac.promise;ad._loadDependencies(al,ah).then(function am(){try{a=[];v(q,p,ah)}catch(an){ad._$log.error(an.message);ac.reject(an);return}if(k.length>0){ag(k.shift())}else{ac.resolve(af)}},function ak(an){ac.reject(an)})};ag(k.shift())}else{if(ah&&ah.name&&I[ah.name]){return I[ah.name]}else{ac.resolve()}}return ac.promise},getRequires:function K(ac){var ad=[];j.forEach(ac.requires,function(ae){if(o.indexOf(ae)===-1){ad.push(ae)}});return ad},_invokeQueue:t,_registerInvokeList:x,_register:v,_addToLoadList:l}}];this._init(j.element(i.document))}]);var m=j.bootstrap;j.bootstrap=function(r,q,p){j.forEach(q.slice(),function(s){l(s,true,true)});return m(r,q,p)};var l=function l(p,q,r){if((d.length>0||q)&&j.isString(p)&&k.indexOf(p)===-1){k.push(p);if(r){b.push(p)}}};var n=j.module;j.module=function(p,r,q){l(p,false,true);return n(p,r,q)};if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="oc.lazyLoad"}})(angular,window);(function(a){a.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse",function(e,b,f,c){return{restrict:"A",terminal:true,priority:1000,compile:function d(h,g){var i=h.contents();h.html("");return function(k,j,m){var l=c(m.ocLazyLoad);k.$watch(function(){return l(k)||m.ocLazyLoad},function(n){if(a.isDefined(n)){e.load(n).then(function(){f.enter(b(i)(k),j)})}},true)}}}}])})(angular);(function(a){a.module("oc.lazyLoad").config(["$provide",function(b){b.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(f,d,j,i){var g=false,c=false,e=j.document.getElementsByTagName("head")[0]||j.document.getElementsByTagName("body")[0];f.buildElement=function h(u,B,p){var A=d.defer(),n,r,z=f._getFilesCache(),m=function m(C){var v=new Date().getTime();if(C.indexOf("?")>=0){if(C.substring(0,C.length-1)==="&"){return C+"_dc="+v}return C+"&_dc="+v}else{return C+"?_dc="+v}};if(a.isUndefined(z.get(B))){z.put(B,A.promise)}switch(u){case"css":n=j.document.createElement("link");n.type="text/css";n.rel="stylesheet";n.href=p.cache===false?m(B):B;break;case"js":n=j.document.createElement("script");n.src=p.cache===false?m(B):B;break;default:z.remove(B);A.reject(new Error('Requested type "'+u+'" is not known. Could not inject "'+B+'"'));break}n.onload=n.onreadystatechange=function(v){if(n.readyState&&!/^c|loade/.test(n.readyState)||r){return}n.onload=n.onreadystatechange=null;r=1;f._broadcast("ocLazyLoad.fileLoaded",B);A.resolve()};n.onerror=function(){z.remove(B);A.reject(new Error("Unable to load "+B))};n.async=p.serie?0:1;var o=e.lastChild;if(p.insertBefore){var q=a.element(a.isDefined(window.jQuery)?p.insertBefore:document.querySelector(p.insertBefore));if(q&&q.length>0){o=q[0]}}o.parentNode.insertBefore(n,o);if(u=="css"){if(!g){var k=j.navigator.userAgent.toLowerCase();if(/iP(hone|od|ad)/.test(j.navigator.platform)){var y=j.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);var t=parseFloat([parseInt(y[1],10),parseInt(y[2],10),parseInt(y[3]||0,10)].join("."));c=t<6}else{if(k.indexOf("android")>-1){var s=parseFloat(k.slice(k.indexOf("android")+8));c=s<4.4}else{if(k.indexOf("safari")>-1){var x=k.match(/version\/([\.\d]+)/i);c=x&&x[1]&&parseFloat(x[1])<6}}}}if(c){var w=1000;var l=i(function(){try{n.sheet.cssRules;i.cancel(l);n.onload()}catch(v){if(--w<=0){n.onerror()}}},20)}}return A.promise};return f}])}])})(angular);(function(a){a.module("oc.lazyLoad").config(["$provide",function(b){b.decorator("$ocLazyLoad",["$delegate","$q",function(d,c){d.filesLoader=function e(g){var i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var m=[],s=[],k=[],l=[],j=null,q=d._getFilesCache();d.toggleWatch(true);a.extend(i,g);var f=function f(v){var u=null,t;if(a.isObject(v)){u=v.type;v=v.path}j=q.get(v);if(a.isUndefined(j)||i.cache===false){if((t=/^(css|less|html|htm|js)?(?=!)/.exec(v))!==null){u=t[1];v=v.substr(t[1].length+1,v.length)}if(!u){if((t=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(v))!==null){u=t[1]}else{if(!d.jsLoader.hasOwnProperty("ocLazyLoadLoader")&&d.jsLoader.hasOwnProperty("load")){u="js"}else{d._$log.error("File type could not be determined. "+v);return}}}if((u==="css"||u==="less")&&m.indexOf(v)===-1){m.push(v)}else{if((u==="html"||u==="htm")&&s.indexOf(v)===-1){s.push(v)}else{if(u==="js"||k.indexOf(v)===-1){k.push(v)}else{d._$log.error("File type is not valid. "+v)}}}}else{if(j){l.push(j)}}};if(i.serie){f(i.files.shift())}else{a.forEach(i.files,function(t){f(t)})}if(m.length>0){var o=c.defer();d.cssLoader(m,function(t){if(a.isDefined(t)&&d.cssLoader.hasOwnProperty("ocLazyLoadLoader")){d._$log.error(t);o.reject(t)}else{o.resolve()}},i);l.push(o.promise)}if(s.length>0){var n=c.defer();d.templatesLoader(s,function(t){if(a.isDefined(t)&&d.templatesLoader.hasOwnProperty("ocLazyLoadLoader")){d._$log.error(t);n.reject(t)}else{n.resolve()}},i);l.push(n.promise)}if(k.length>0){var p=c.defer();d.jsLoader(k,function(t){if(a.isDefined(t)&&d.jsLoader.hasOwnProperty("ocLazyLoadLoader")){d._$log.error(t);p.reject(t)}else{p.resolve()}},i);l.push(p.promise)}if(l.length===0){var r=c.defer(),h="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";d._$log.error(h);r.reject(h);return r.promise}else{if(i.serie&&i.files.length>0){return c.all(l).then(function(){return d.filesLoader(g,i)})}else{return c.all(l)["finally"](function(t){d.toggleWatch(false);return t})}}};d.load=function(l){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var o=this,i=null,k=[],p=c.defer(),g;var h=a.copy(l);var j=a.copy(n);if(a.isArray(h)){a.forEach(h,function(q){k.push(o.load(q,j))});c.all(k).then(function(q){p.resolve(q)},function(q){p.reject(q)});return p.promise}if(a.isString(h)){i=o.getModuleConfig(h);if(!i){i={files:[h]}}}else{if(a.isObject(h)){if(a.isDefined(h.path)&&a.isDefined(h.type)){i={files:[h]}}else{i=o.setModuleConfig(h)}}}if(i===null){var f=o._getModuleName(h);g='Module "'+(f||"unknown")+'" is not configured, cannot load.';d._$log.error(g);p.reject(new Error(g));return p.promise}else{if(a.isDefined(i.template)){if(a.isUndefined(i.files)){i.files=[]}if(a.isString(i.template)){i.files.push(i.template)}else{if(a.isArray(i.template)){i.files.concat(i.template)}}}}var m=a.extend({},j,i);if(a.isUndefined(i.files)&&a.isDefined(i.name)&&d.moduleExists(i.name)){return d.inject(i.name,m,true)}d.filesLoader(i,m).then(function(){d.inject(null,m).then(function(q){p.resolve(q)},function(q){p.reject(q)})},function(q){p.reject(q)});return p.promise};return d}])}])})(angular);(function(a){a.module("oc.lazyLoad").config(["$provide",function(b){b.decorator("$ocLazyLoad",["$delegate","$q",function(d,c){d.cssLoader=function(g,h,f){var e=[];a.forEach(g,function(i){e.push(d.buildElement("css",i,f))});c.all(e).then(function(){h()},function(i){h(i)})};d.cssLoader.ocLazyLoadLoader=true;return d}])}])})(angular);(function(a){a.module("oc.lazyLoad").config(["$provide",function(b){b.decorator("$ocLazyLoad",["$delegate","$q",function(d,c){d.jsLoader=function(g,h,f){var e=[];a.forEach(g,function(i){e.push(d.buildElement("js",i,f))});c.all(e).then(function(){h()},function(i){h(i)})};d.jsLoader.ocLazyLoadLoader=true;return d}])}])})(angular);(function(a){a.module("oc.lazyLoad").config(["$provide",function(b){b.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(e,c,d,f){e.templatesLoader=function(j,k,i){var g=[],h=e._getFilesCache();a.forEach(j,function(m){var l=d.defer();g.push(l.promise);f.get(m,i).success(function(n){if(a.isString(n)&&n.length>0){a.forEach(a.element(n),function(o){if(o.nodeName==="SCRIPT"&&o.type==="text/ng-template"){c.put(o.id,o.innerHTML)}})}if(a.isUndefined(h.get(m))){h.put(m,true)}l.resolve()}).error(function(n){l.reject(new Error('Unable to load template file "'+m+'": '+n))})});return d.all(g).then(function(){k()},function(l){k(l)})};e.templatesLoader.ocLazyLoadLoader=true;return e}])}])})(angular);if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,d){var b;if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var a=e.length>>>0;if(a===0){return -1}var f=+d||0;if(Math.abs(f)===Infinity){f=0}if(f>=a){return -1}b=Math.max(f>=0?f:a-Math.abs(f),0);while(b<a){if(b in e&&e[b]===c){return b}b++}return -1}};